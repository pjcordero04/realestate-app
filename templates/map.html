<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Subdivision Map</title>
    <style>
        #map-container {
            position: relative;
            display: inline-block;
        }
        #map-image {
            display: block;
            max-width: 100%;
        }
        svg {
            position: absolute;
            top: 0;
            left: 0;
        }
        .unit-polygon {
            cursor: pointer;
            fill-opacity: 0.4;
            stroke: black;
            stroke-width: 2;
        }
        .available { fill: green; }
        .reserved { fill: yellow; }
        .sold { fill: red; }
    </style>
</head>
<body>
    <h1>Subdivision Map</h1>
    <div id="map-container">
        <img id="map-image" src="{{ map_image_url }}" alt="Subdivision Map">
        <svg id="svg-overlay" width="100%" height="100%"></svg>
    </div>

    <script type="text/javascript">
        // safely pass Python data to JS
        window.units = {{ units | tojson }};
    </script>

    <script src="{{ url_for('static', filename='map.js') }}"></script>
</body>
</html>
